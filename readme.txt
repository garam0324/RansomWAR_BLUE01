================================================================================
RansomWAR_BLUE01 (RansomShield)
단국대학교 사이버보안학과 시스템보안 팀 프로젝트

[1] 프로젝트 개요

본 프로젝트는 FUSE(Filesystem in Userspace)를 기반으로 사용자 영역에서 동작하는
파일시스템을 구현하여, 랜섬웨어의 악의적인 행위(파일 암호화, 대량 삭제, 위변조,
무단 읽기 등)를 실시간으로 탐지하고 차단하는 것을 목표로 합니다.


개발 기간 : 2025-10-28 ~ 2025-11-28

개발 환경 : Ubuntu 22.04 LTS, C Language, FUSE3 Library


[2] 팀원 구성 및 역할 분담 (BLUE 1팀)

1. 고대현 (팀장)

- 프로젝트 총괄 및 일정 관리

- 핵심 방어 로직 코드 작성 및 보완, write(엔트로피 기반 차단, 스냅샷 생성), 엔트로피 차단 후 쿨다운(Cooldown) 로직 추가

- 프로젝트 관리: 전체 개발 일정 조율, 최종 보고서 작성

2. 김가람

- read, unlink, open 행위 관련 코드 구현(rate limit, 화이트리스트 확장자, 확장자/매직넘버 일치 여부 검사 등)

- 코드 보완(write 쿨다운 기능 추가, 엔트로피 로직 보완, write rate limit 기능 보완(파일별 -> 전체), 스냅샷 복구 기능 추가 등)

- 일정, 회의록, Github 관리

- 프로젝트 발표 담당

3. 김준범

- 기능 구현 코드 작성 및 보완 (로그, 유틸리티 등)

- 발표 자료(PPT) 제작


[3] 상세 보고서: 주요 기능 및 기술적 포인트

1. 엔트로피(Entropy) 기반 암호화 탐지

- 원리: 파일 데이터의 무작위성을 샤논 엔트로피(Shannon Entropy)로 계산.

- 정책: 엔트로피 6.5 초과 시: 'FLAG' 로그 기록 (주의).

	    엔트로피 7.0 초과 시: 'BLOCKED' 처리 및 쓰기 차단 (암호화 시도로 간주).

	    차단 후 10초간 해당 파일에 대한 쓰기 접근(Cooldown) 강제 적용.


2. 스냅샷(Snapshot)을 통한 데이터 복구

- 원리: 파일이 변조되기 직전(First Write), 원본을 백업 디렉터리로 자동 복사.

- 위치: $HOME/.snapshots/ 경로에 [ID]_[변환된경로] 형태로 저장.

- 효과: 랜섬웨어가 파일을 훼손하더라도 원본 데이터를 안전하게 보존.


3. 지능형 접근 제어 (확장자 & 매직넘버)

- 화이트리스트: 지정된 중요 확장자(doc, pdf, jpg 등) 외 파일 생성 차단.

- 위장 탐지: 확장자와 실제 파일 헤더(Magic Number) 불일치 시 차단 (예: exe를 pdf로 위장).

- 랜섬노트 차단: 'readme', 'decrypt' 등 랜섬노트 패턴이 포함된 파일명 생성 불가.


4. 행위 기반 레이트 리미트(Rate Limit)

- 대량 삭제 방지: 10초 내 2회 이상 삭제 시도 시 차단.

- 대량 읽기 방지: PID당 10초 내 50MB 이상 읽기 시도 시 차단 (데이터 유출 방지).

- 대량 이름 변경 방지: 1초 내 반복 Rename 또는 파일당 5회 이상 Rename 시 차단.


[4] 실행 매뉴얼 (User Manual)

제공된 Makefile을 통해 빌드 및 실행 과정을 간편하게 수행할 수 있습니다.

1. 사전 준비 (Prerequisites)
- $ sudo apt-get update
- $ sudo apt-get install libfuse3-dev gcc make

2. 빌드 (Build)
- $ make

3. 실행 (Run)
- 프로그램이 현재 사용자의 계정명을 자동으로 인식하여 파일시스템을 마운트합니다.
- $ make run
- 마운트 경로: /home/[현재사용자]/workspace/target
- (예: 사용자명이 ubuntu라면 /home/ubuntu/workspace/target)

- 주의: 실행 후 터미널이 대기 상태가 되므로, 테스트는 새 터미널에서 진행하세요.

4. 로그 확인 (Log)
- 실시간 탐지 및 차단 로그를 확인합니다.
- $ make log

5. 종료 (Unmount)
- 파일시스템을 언마운트하고 종료합니다.
- $ make umount

6. 정리 (Clean)
- 실행 파일 및 임시 파일을 삭제합니다.
- $ make clean






